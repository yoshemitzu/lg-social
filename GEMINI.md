# Gemini Project Context

This file provides essential information for the Gemini CLI agent to understand and work on the LearnGraph project.

## Project Overview
**LearnGraph** is a long-term initiative aimed at building a "Google Maps for learning" â€” a networked system for navigating concepts, skills, and educational pathways across the web. The current focus is on social media analysis to understand the landscape around relevant topics.

## Key Project Files & Directories
- `README.md`: Primary project documentation, including roadmap and to-dos.
- `data/`: Contains input data (`HashtagLinks.csv` - now a generated artifact) and scraped/analyzed data (`BlueskyScrapedData.csv`, `BlueskyAnalytics.csv`).
- `scripts/`: Contains Python scripts for various tasks:
    - `make-html.py`: Generates HTML reports from hashtag data.
    - `bluesky_scraper.py`: Scrapes data from Bluesky API.
    - `update_social_data.py`: Orchestrates Bluesky scraping and analytics.
    - `launch-report.py`: Launches the latest HTML report.
    - `generate_hashtag_links_csv.py`: Generates `HashtagLinks.csv` from `config.json`.
- `templates/`: Contains Jinja2 HTML templates (`report_template.html`).
- `.env`: Stores sensitive environment variables (e.g., Bluesky credentials). **This file is git-ignored.**
- `.gitignore`: Specifies files and directories to be ignored by Git.
- `config.json`: Centralized configuration, including the primary list of hashtags.
- `main.py`: Top-level script to generate and open reports.
- `reports/`: New directory for generated HTML reports (added to .gitignore).

## Current Status & Known Issues (High-Level)

### 1. Bluesky API Scraping
- **Status:** Authentication is working. Data scraping is functional, and the issue with `bluesky_scraper.py` printing debug messages to stdout has been resolved (debug messages are now directed to `stderr`).
- **Next Step:** No immediate action required for this specific issue.

### 2. HTML Report Generation (`make-html.py`)
- **Status:** Refactored to use Jinja2. Favicon and metadata are included. Alternating row colors implemented. The script now dynamically changes the Reddit URLs from the input CSV to point directly to `old.reddit.com/r/<hashtag>`. Hashtag data is now sourced from `config.json`. Performance issues with report loading due to `list.js` have been resolved by implementing custom JavaScript for sorting and filtering.
- **Known Issues:**
    - **List.js Search/Filter:** The search and filter functionality in the generated HTML table is not working. This is likely due to malformed HTML attributes generated by the Jinja2 template, preventing List.js from correctly initializing. (Deferred)
    - **Color-coding:** Hashtag hotness color-coding is now applied to the Bluesky column, but the scale might need refinement. Reddit color-coding is not yet implemented.
- **Next Step:** Refine the color-coding scale for Bluesky and implement color-coding for Reddit.

### 3. Reddit API Scraping
- **Status:** Attempted implementation, but encountering persistent API issues (e.g., `ReadTimeout`, `Forbidden`, `NotFound` errors) preventing reliable data acquisition. Further investigation into Reddit API limitations or alternative scraping methods is required.
- **Next Step:** Deferred for now. Will revisit if a more robust and reliable method for Reddit data acquisition is identified.

### 4. Asynchronous Task Management (`gremlin.py`)
- **Status:** Initial implementation exists but is not functional. Debugging was deferred.
- **Next Step:** Revisit only when other core functionalities are stable.

### 5. Hashtag Management & Report Workflow
- **Status:** Hashtag list is now centralized in `config.json`. `HashtagLinks.csv` is now a generated artifact. A top-level `main.py` script has been added for convenient report generation and opening. Generated reports are now stored in a dedicated `reports/` directory, which is git-ignored. `update_social_data.py` now supports processing individual hashtags via a `--hashtag` argument.
- **Next Step:** Enhance the data acquisition process to allow for isolated updates of individual hashtags. Implement a "pop out" detailed view for individual hashtags in the report.

## Action Items for Gemini Agent
- Update `README.md` to reflect current status and completed tasks.
- Propose a workflow for isolated data acquisition for individual hashtags. (Completed in code, reflected in status above)
- Refine the color-coding scale for Bluesky and implement color-coding for Reddit in the HTML report.
- For any issues, follow the collaborative debugging protocol: clearly define the problem, propose diagnostic steps for the user, explain the 'why', and request specific output.
- Be mindful of pacing and user interaction time.